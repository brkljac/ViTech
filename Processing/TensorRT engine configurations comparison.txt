
Comparison of execution times of different TensorRT engine configurations, with different input batch sizes and number format precisions (memory requirements, FP16 and FP32 precision).


Note that increase of processing batch size can bring significant speedup of execution time per batch instance. The speedup is not linear, when compared to a single data instance at the same level of computation precision (e.g. 16 fold increase of batch size, from 1 to 16, results in about 10 times longer computation time). However, batch processing also introduces additional latency when collecting input stream data into input batch data structure, which can be unacceptable under some low latency processing requirements.



~~~~~~~~~~~~~~~~~~~~~~
FP16 precision
~~~~~~~~~~~~~~~~~~~~~~

TensorRT model running on GPU: resnet50_pytorch_bsize1__fp16_engine.trt
Size of the input batch: (1, 3, 224, 224)
Average TensorRT execution time on GPU: 0.037588 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.7), (595, 14.82), (856, 13.31), (730, 12.32), (561, 10.445)]


TensorRT model running on GPU: resnet50_pytorch_bsize8__fp16_engine.trt
Size of the input batch: (8, 3, 224, 224)
Average TensorRT execution time on GPU: 0.196643 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.7), (595, 14.805), (856, 13.31), (730, 12.31), (561, 10.43)]


TensorRT model running on GPU: resnet50_pytorch_bsize16__fp16_engine.trt
Size of the input batch: (16, 3, 224, 224)
Average TensorRT execution time on GPU: 0.379642 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.69), (595, 14.805), (856, 13.305), (730, 12.32), (561, 10.43)]
corrupted size vs. prev_size


TensorRT model running on GPU: resnet50_pytorch_bsize32__fp16_engine.trt
Size of the input batch: (32, 3, 224, 224)
Average TensorRT execution time on GPU: 0.743193 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.98), (595, 15.02), (856, 13.36), (730, 12.45), (561, 10.52)]



~~~~~~~~~~~~~~~~~~~~~~
FP32 precision
~~~~~~~~~~~~~~~~~~~~~~

TensorRT model running on GPU: resnet50_pytorch_bsize1__fp32_engine.trt
Size of the input batch: (1, 3, 224, 224)
Average TensorRT execution time on GPU: 0.150072 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.69704), (595, 14.820633), (856, 13.319504), (730, 12.332409), (561, 10.417375)]


TensorRT model running on GPU: resnet50_pytorch_bsize8__fp32_engine.trt
Size of the input batch: (8, 3, 224, 224)
Average TensorRT execution time on GPU: 0.377119 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.69704), (595, 14.820632), (856, 13.319506), (730, 12.332409), (561, 10.417373)]


TensorRT model running on GPU: resnet50_pytorch_bsize16__fp32_engine.trt
Size of the input batch: (16, 3, 224, 224)
Average TensorRT execution time on GPU: 0.705739 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.69704), (595, 14.820632), (856, 13.319506), (730, 12.332409), (561, 10.417373)]


TensorRT model running on GPU: resnet50_pytorch_bsize32__fp32_engine.trt
Size of the input batch: (32, 3, 224, 224)
Average TensorRT execution time on GPU: 1.413965 seconds
**** Top 5 prediction scores ****
Class ID: 866, Class name: tractor
Class ID: 595, Class name: harvester
Class ID: 856, Class name: thresher
Class ID: 730, Class name: plow
Class ID: 561, Class name: forklift
Class ID | Likelihood score
[(866, 16.69704), (595, 14.820632), (856, 13.319506), (730, 12.332409), (561, 10.417373)]



